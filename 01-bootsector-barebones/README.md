*Концепции, которые можно изучить сначала: ассемблер, BIOS*

**Цель: Создать файл, который BIOS интрепетирует как загрузочный диск**

This is very exciting, we're going to create our own boot sector!

Теория
------

Когда компьютер запускается BIOS не знает как загрузить операционную систему. Эта задача перекладывается на загрузочный
сектор диска. Таким образом он (загрузочный сектор) должен быть расположен в стандартном известном месте. Таким местом
является первый сектор диска (цилиндр 0, головка 0, сектор 0). Размер сектора 512 байт.

Чтобы удостовериться, что диск является загрузочным, BIOS проверяет 511 и 512 байты. Если они равны `0x55` и `0xAA` 
тогда все верно.

Это самый простой загрузочный сектор:

```
e9 fd ff 00 00 00 00 00 00 00 00 00 00 00 00 00
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ Еще 29 строк по 16 нулевых байтов ]
00 00 00 00 00 00 00 00 00 00 00 00 00 00 55 aa
```

Здесь в основном все нули, заканчивающиеся 16-битным магическим числом
`0xAA55` (внимание при использовании, сначала идет младший байт, а потом старший). 
Первые три байта отправляют программу в бесконечный цикл

Самый простой загрузочный сектор
-------------------------
Вы можете как написать все 512 байт с помощью двоичного редактора, так и использовать простейший ассемблерный код:

```nasm
; Бесконечный цикл (e9 fd ff)
loop:
    jmp loop 

; Заполнить (510 - размер предыдущего кода) байт нулями
times 510-($-$$) db 0
; Магическое число
dw 0xaa55 
```

Скомпилировать файл:

`nasm -f bin boot_sect_simple.asm -o boot_sect_simple.bin`

Я знаю, вы хотите попробовать что вышло (Я хочу!). Давайте сделаем это:

`qemu-system-x86_64 boot_sect_simple.bin`

В открывшемся окне появляется надпись: "Booting from Hard Disk..." и ничего не происходит больше. Когда в последний 
раз вы были так рады видеть бесконечный цикл? ;-)
